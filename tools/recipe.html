---
layout: tool
title: Recipe Generator
permalink: /tools/recipe/
---

{% lang en %}
<p style="color:var(--text-muted); margin-bottom:20px;">Create Shaped Crafting Recipes. Search for any Minecraft item.</p>
{% endlang %}
{% lang ru %}
<p style="color:var(--text-muted); margin-bottom:20px;">Создание рецептов крафта. Поиск по всем предметам Minecraft.</p>
{% endlang %}

<div style="display:flex; justify-content:center; gap:40px; flex-wrap:wrap; margin-bottom:30px;">
<div>
        <h3 style="text-align:center; margin-bottom:10px;">Crafting Table</h3>
        <div style="display:grid; grid-template-columns:repeat(3, 60px); gap:4px; background:#c6c6c6; padding:10px; border-radius:4px; border:2px solid #555;">
            {% for i in (0..8) %}
            <div id="s{{i}}" class="craft-slot" onclick="openPicker({{i}})"></div>
            {% endfor %}
        </div>
    </div>
    <div style="display:flex; flex-direction:column; justify-content:center;"><i class="fa-solid fa-arrow-right" style="font-size:2rem; color:var(--text-muted);"></i></div>
    <div>
        <h3 style="text-align:center; margin-bottom:10px;">Result</h3>
        <div style="background:#c6c6c6; padding:10px; border-radius:4px; border:2px solid #555; width:84px; height:84px; display:flex; align-items:center; justify-content:center;">
            <div id="res-slot" class="craft-slot" onclick="openPicker(-1)" style="width:60px; height:60px;"></div>
        </div>
        <input type="number" id="res-count" class="form-input" value="1" style="width:84px; margin-top:5px; text-align:center;" min="1" max="64">
    </div>
</div>

<button onclick="genRecipe()" class="btn primary" style="width:100%;">Generate JSON</button>
<textarea id="recipe-out" class="form-area" readonly style="height:200px; font-family:monospace; margin-top:20px;"></textarea>
<button onclick="copyOut('recipe-out')" class="btn" style="width:100%; margin-top:10px;">Copy JSON</button>

<div id="picker-modal" class="item-picker-modal" onclick="if(event.target === this) closePicker()">
    <div class="item-picker-content">
        <div style="padding:15px; border-bottom:1px solid var(--border); display:flex; gap:10px;">
            <input type="text" id="picker-search" class="form-input" placeholder="Search (e.g. netherite_sword)" style="flex:1;" oninput="filterItems()">
            <button onclick="closePicker()" class="btn">Close</button>
        </div>
        <div id="picker-list" class="item-list"></div>
    </div>
</div>

<script>
    let currentSlot = -1;
    let grid = new Array(9).fill("minecraft:air");
    let resultItem = "minecraft:diamond";

    function openPicker(idx) {
        currentSlot = idx;
        document.getElementById('picker-modal').style.display = 'flex';
        document.getElementById('picker-search').focus();
    }
    function closePicker() { document.getElementById('picker-modal').style.display = 'none'; }

    function filterItems() {
        const q = document.getElementById('picker-search').value.toLowerCase();
        const list = document.getElementById('picker-list');
        list.innerHTML = '';
        if(q.length < 2) return;
        
        // Поиск по "всем" предметам (через динамический ввод)
        const opt = document.createElement('div');
        opt.className = 'item-option';
        const fullId = q.includes(':') ? q : 'minecraft:' + q;
        opt.innerHTML = `<span>Use: ${fullId}</span>`;
        opt.onclick = () => selectItem(fullId);
        list.appendChild(opt);
    }

    function selectItem(id) {
        if(currentSlot === -1) { resultItem = id; updateSlotUI('res-slot', id); }
        else { grid[currentSlot] = id; updateSlotUI('s' + currentSlot, id); }
        closePicker();
    }

    function updateSlotUI(elId, id) {
        const el = document.getElementById(elId);
        const name = id.split(':')[1];
        el.innerHTML = `<img src="https://assets.mcasset.cloud/1.20.1/assets/minecraft/textures/item/${name}.png" onerror="this.src='https://assets.mcasset.cloud/1.20.1/assets/minecraft/textures/block/${name}.png'; this.onerror=()=>this.src='/assets/img/logo.png'">`;
        el.title = id;
    }

    function genRecipe() {
        const keys = {};
        const chars = "ABCDEFGHI";
        const pattern = ["", "", ""];
        let keyIdx = 0;
        grid.forEach((item, i) => {
            if(item === 'minecraft:air') pattern[Math.floor(i/3)] += " ";
            else {
                let char = Object.keys(keys).find(k => keys[k].item === item);
                if(!char) { char = chars[keyIdx++]; keys[char] = { item: item }; }
                pattern[Math.floor(i/3)] += char;
            }
        });
        document.getElementById('recipe-out').value = JSON.stringify({ type: "minecraft:crafting_shaped", pattern, key: keys, result: { item: resultItem, count: parseInt(document.getElementById('res-count').value) } }, null, 4);
    }
    function copyOut(id) { const el = document.getElementById(id); el.select(); document.execCommand('copy'); }
</script>
