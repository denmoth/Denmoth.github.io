---
layout: default
---
<div style="text-align: center; padding: 60px 20px;">
    <img src="/assets/img/logo.png" style="width:80px; height:80px; border-radius:12px; margin-bottom:20px;">
    <h1 style="font-size: 3rem; margin: 0;">Denmoth</h1>
    <p style="color: var(--text-muted); font-size: 1.2rem; margin-top: 10px;">Minecraft Mods & Infrastructure</p>
</div>

<div class="mod-grid">
    {% assign sorted_mods = site.data.mods | sort: "priority" %}
    {% for mod in sorted_mods %}
    <div class="card" data-cf-id="{{ mod.cf_id }}">
        <div style="display:flex; justify-content:space-between; align-items:start; margin-bottom:15px;">
            <h3>{{ mod.name }}</h3>
            <span class="badge cf-version">---</span>
        </div>
        <p>{{ mod.desc[site.active_lang] }}</p>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:auto;">
            <div style="color:var(--text-muted); font-size:0.85rem;">
                <i class="fa-solid fa-download"></i> <span class="cf-downloads">---</span>
            </div>
            <a href="/{{ mod.id }}/" class="btn primary">Wiki</a>
        </div>
    </div>
    {% endfor %}
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll('.card[data-cf-id]').forEach(card => {
        const id = card.dataset.cfId;
        const vSpan = card.querySelector('.cf-version');
        const dlSpan = card.querySelector('.cf-downloads');

        fetch(`https://api.cfwidget.com/${id}`)
            .then(r => r.json()).then(data => {
                if(data.files && data.files.length > 0) vSpan.textContent = data.files[0].version;
                dlSpan.textContent = new Intl.NumberFormat('en-US', { notation: "compact" }).format(data.downloads.total);
            }).catch(() => dlSpan.textContent = "n/a");
    });
});
</script>